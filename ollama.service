# Ollama Service Configuration for systemd
# Save as: /etc/systemd/system/ollama.service

[Unit]
Description=Ollama AI Service
Documentation=https://ollama.ai/
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
ExecStart=/usr/local/bin/ollama serve
Restart=always
RestartSec=10
User=ollama
Group=ollama

# Environment variables
Environment="OLLAMA_HOST=0.0.0.0:11434"
Environment="OLLAMA_MODELS=/var/lib/ollama/models"

# Security settings
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/lib/ollama

# Resource limits
LimitNOFILE=1048576
LimitNPROC=512

# Health check - restart if service becomes unresponsive
WatchdogSec=60

[Install]
WantedBy=multi-user.target
